<!-- 
Generated by JavaScriptXmlDoc
http://jsxmldoc.sourceforge.net
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">





<html>
<head>
    <title>JavaScripTools 2.2.5 - Parsers - WrapperParser</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
		<div align="right">
		<a class="navbar" href="intro.html">[intro]</a>
					&nbsp;&nbsp;&nbsp;
			<a class="navbar" href="script_Parsers.html">[up]</a>
			</div>
	<br>
    <div class="scriptTitle">Class WrapperParser</div>
    <br>
            <div><span class="elementItem">Extends Class:</span> <a href="class_Parser.html">Parser</a></div>
        <br>
            <div class="scriptDescription">A parser that wraps another parser, adding functionality through uses custom functions.
                        When formatting, first the wrapped parser formats the data, then the formatFunction is invoked to post-process it, receiving the already formatted value and the original value as arguments.  
                        When parsing, first the parseFunction is invoked to pre-process the value, then the wrapped parser parses it.</div>
        <br>
        <div class="elementItem">Example</div>
<pre class="classExample">
var addTag = function(value, originalValue) {
    var color;
    if (originalValue != null && originalValue < 0) {
        color = "red";
    } else {
        color = "blue";
    }
    return "<span style='color:" + color + "'>" + value + "</span>";
}
var removeTag = function(value) {
    var array = /<\w[^>]+>([\w\,\.]+)<\/\w[^>]+>/i.exec(value);
    if (!array) {
        return null;
    }
    return array[1];
}
var numberParser = new NumberParser(2);
var parser = new WrapperParser(numberParser, addTag, removeTag);
alert(parser.format(-1.67)); //Result is <span style="color:red">-1,67</span>
alert(parser.format(123.237)); //Result is <span style="color:blue">123,24</span>
alert(parser.parse("<div>1.234.567,89</div>")); //Result is 1234567.89
</pre><br>
        <br>
    	    <div class="elementTitle">Constructor Arguments</div>
                	        <table class="element">
            <tr>
                <th width="20%">Name</th>
                <th width="20%">Type</th>
                <th width="15%">Default</th>
                <th width="45%">Description</th>
            </tr>
                            <tr>
                    <td>wrappedParser</td>
                    <td>Parser                                        </td>
                    <td> &nbsp;</td>
                    <td> The internal parser </td>
                </tr>
                            <tr>
                    <td>formatFunction</td>
                    <td>Function                                        </td>
                    <td> &nbsp;</td>
                    <td> The function called to post-process data the wrapped parser will format. The received arguments are the already formatted data by the wrapped parser and the original data </td>
                </tr>
                            <tr>
                    <td>parseFunction</td>
                    <td>Function                                        </td>
                    <td> &nbsp;</td>
                    <td> The function called to pre-process data the wrapped parser will parse. The data is passed as function argument </td>
                </tr>
                    </table>
    	    		<br>
	    <div class="elementTitle">Properties</div>
        <table class="element">
                                                <tr>
                    <td class="itemTitle"><a href="#formatFunction">formatFunction</a></td>
                    <td>The function called to post-process data the wrapped parser will format</td>
                </tr>
                            <tr>
                    <td class="itemTitle"><a href="#parseFunction">parseFunction</a></td>
                    <td>The function called to pre-process data the wrapped parser will parse</td>
                </tr>
                            <tr>
                    <td class="itemTitle"><a href="#wrappedParser">wrappedParser</a></td>
                    <td>The internal parser</td>
                </tr>
                            </table>
            <br>
    	    <hr size="1">
		<br>
	    <div class="detailSeparator">Properties</div>
	    	            	        <table class="detail">
	        	            <tr><td></td></tr>
	            <tr>
	        		<td>            <a name="formatFunction"></a>
        <div class="itemDetail">formatFunction</div>
         <div class="itemDescription">The function called to post-process data the wrapped parser will format. The received arguments are the already formatted data by the wrapped parser and the original data</div>                            </td>
	        	</tr>
	        	            <tr><td></td></tr>
	            <tr>
	        		<td>            <a name="parseFunction"></a>
        <div class="itemDetail">parseFunction</div>
         <div class="itemDescription">The function called to pre-process data the wrapped parser will parse. The data is passed as function argument</div>                            </td>
	        	</tr>
	        	            <tr><td></td></tr>
	            <tr>
	        		<td>            <a name="wrappedParser"></a>
        <div class="itemDetail">wrappedParser</div>
         <div class="itemDescription">The internal parser</div>                            </td>
	        	</tr>
	        	        </table>
	        <br><br>
	    		<br>
    </body>
</html>
